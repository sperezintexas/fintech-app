Metadata-Version: 2.4
Name: fintech-app
Version: 0.1.0
Summary: TSLA Profit Maximizer App - Options strategy recommendations for TSLA portfolio
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: yfinance>=0.2.0
Requires-Dist: pandas>=2.0.0
Requires-Dist: numpy>=1.24.0
Requires-Dist: tabulate>=0.9.0
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-mock>=3.12.0; extra == "dev"

# TSLA Profit Maximizer App

## Overview
This Python app helps maximize profits on a Tesla (TSLA) stock portfolio using conservative options strategies like covered calls and the wheel strategy. It fetches real-time data from Yahoo Finance (via yfinance) and provides recommendations on when to sell calls/puts or buy more shares with profits. Designed for users holding TSLA shares (e.g., 500 shares), it emphasizes retaining or accumulating holdings while generating income from premiums.

Key goals:
- Leverage TSLA's current earnings (flat 2025 revenue ~$97B amid EV competition), mid-term catalysts (2026 recovery to ~$134B via energy/autonomy), and long-term potential (2030+ revenue >$297B from robotics/mobility).
- Target 5-15% annualized yield from options on top of stock appreciation.
- Reinvest all profits into more TSLA shares to compound growth.

**Disclaimer**: This is not financial advice. Options trading involves risks (e.g., opportunity cost, assignment, volatility). Backtest strategies, use a demo account, and consult professionals. The app uses public data and simulationsâ€”real trades require a brokerage API (e.g., Alpaca or Interactive Brokers for automation).

## Features
- **Portfolio Tracking**: Input your holdings (e.g., 500 TSLA shares, cash for collateral) and track value based on live prices.
- **Data Fetching**: Pulls TSLA stock price, historical data, and options chains from Yahoo Finance.
- **Strategy Recommendations** (Side-by-Side Comparison):
  - **Covered Calls Strategy**: Generate income on existing holdings by selling OTM calls (5-10% above current price). Best for generating consistent income without acquiring new shares.
  - **Wheel Strategy**: Two-phase approach for accumulating shares and generating income:
    - **Phase 1**: Sell cash-secured puts (5-10% below current price) to collect premium and potentially acquire shares at a discount
    - **Phase 2**: After assignment, sell covered calls on the newly acquired shares for additional income
    - Best for accumulating more shares on dips while generating premium income
  - **Buy Signals**: Use profits to buy more shares on dips (e.g., below 50-day moving average) or after premium collection.
  - **Sell Signals**: Only for options expiration/assignment; never recommends selling core shares.
- **Risk Management**: Incorporates volatility checks (e.g., avoid trades if implied vol >60%), stop-loss thresholds, and reinvestment rules.
- **Simulations**: Backtest strategies on historical data to estimate returns.
- **Alerts**: Console outputs for actions (extendable to email/SMS via libraries like smtplib).

## Installation
1. Clone the repo: `git clone <repo-url>`
2. Create and activate a virtual environment:
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # On macOS/Linux
   # On Windows: venv\Scripts\activate
   ```
3. Install the package in editable mode: `pip install -e .`
4. Run the app:
   - **Web App (Recommended)**: 
     ```bash
     streamlit run streamlit_app.py
     ```
     Then open your browser to `http://localhost:8501`
   - **CLI**: `python main.py`

## Usage

### Web App (Recommended)
1. Start the Streamlit web app:
   ```bash
   streamlit run streamlit_app.py
   ```
2. Open your browser to the URL shown (typically `http://localhost:8501`)
3. Configure your portfolio and strategies using the sidebar
4. View real-time recommendations with interactive tables

### CLI
1. Edit `src/fintech_app/config.py` with your portfolio settings
2. Run `python main.py` to get recommendations in the terminal

### Features
- **Interactive Configuration**: Adjust portfolio, strategies, and options filters via web UI
- **Real-time Updates**: Auto-refresh option for live market data
- **Strategy Comparison**: Side-by-side view of Covered Calls vs Wheel Strategy
- **Visual Metrics**: Market conditions displayed with color-coded indicators


## Configuration
- `src/fintech_app/config.py`: Set shares, cash, risk tolerance (e.g., OTM percentage), and strategy preferences.
  - `TSLA_SHARES`: Your current TSLA holdings (default: 500)
  - `CASH_AVAILABLE`: Cash available for options trading (default: 10000)
  - `OPTIONS_MIN_WEEKS`: Minimum weeks until expiration to include (default: 4)
  - `OPTIONS_MAX_WEEKS`: Maximum weeks until expiration to include (default: 8)
  - `ENABLE_COVERED_CALLS`: Enable covered call strategy (default: True)
  - `ENABLE_WHEEL_STRATEGY`: Enable wheel strategy (default: True)
  - `WHEEL_PUT_OTM_PCT`: Put strike percentages below current price (default: [0.05, 0.075, 0.10] = 5%, 7.5%, 10%)
  - `WHEEL_MIN_CASH_RATIO`: Cash requirement ratio for put collateral (default: 1.1 = 110%)
  - `BULLISH_THRESHOLD`: RSI threshold for bullish signals (default: 50)
  - `DIP_THRESHOLD`: RSI threshold for dip detection (default: 30)
- Strategies are rule-based (e.g., sell calls if price > 20-day MA; buy on RSI <30).

## Architecture
The project uses a `src` layout for better package organization:
- `src/fintech_app/main.py`: Entry point for user input and recommendations.
- `src/fintech_app/data_fetcher.py`: Handles yfinance API calls for prices/options.
- `src/fintech_app/strategy_engine.py`: Computes recommendations based on rules.
- `src/fintech_app/portfolio.py`: Tracks holdings and simulates trades.
- `src/fintech_app/utils.py`: Helpers for calculations (e.g., premiums, yields).
- `src/fintech_app/config.py`: Configuration settings.

## Testing
The app includes comprehensive unit and integration tests using pytest.

### Running Tests
```bash
# Activate virtual environment first
source venv/bin/activate

# Run all tests
pytest

# Run with verbose output
pytest -v

# Run specific test file
pytest tests/test_portfolio.py

# Run with coverage (optional)
pytest --cov=. --cov-report=html
```

### Test Structure
- `tests/test_portfolio.py`: Unit tests for Portfolio class
- `tests/test_utils.py`: Unit tests for utility functions (MA, RSI, premium estimation, etc.)
- `tests/test_strategy_engine.py`: Unit tests for strategy recommendation logic
- `tests/test_data_fetcher.py`: Unit tests for data fetching (with mocked yfinance)
- `tests/test_integration.py`: Integration tests for full workflow

All external API calls (yfinance) are mocked in tests to avoid network dependencies.

## Database

The app uses SQLite for portfolio tracking. The database file `portfolio.db` is created automatically in the project root.

### Database Schema
- **portfolio_snapshots**: Historical portfolio states (shares, cash, total value)
- **transactions**: All trades (stock and options)
- **options_positions**: Active and closed options positions
- **stock_positions**: Current stock holdings

### Features
- Automatic portfolio snapshots on each run
- Track all options positions (calls/puts)
- Transaction history with P&L tracking
- Portfolio value history with charts
- Close positions and record profits/losses

The database is file-based (SQLite) - no setup required, just works!

## Contributing
Fork and PR improvements, e.g., add brokerage integration or GUI.

## License
MIT License. Use at your own risk.

